From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: BuildTools <unconfigured@null.spigotmc.org>
Date: Fri, 7 Aug 2020 00:36:08 +0800
Subject: [PATCH] Fix-Operator-API-Bug


diff --git a/src/main/java/org/bukkit/command/MessageCommandSender.java b/src/main/java/org/bukkit/command/MessageCommandSender.java
index ca1893e9fb41baae0d103f1a925e33f3dfa273be..3f260270cb08afb5df277cf710574a4d93912078 100644
--- a/src/main/java/org/bukkit/command/MessageCommandSender.java
+++ b/src/main/java/org/bukkit/command/MessageCommandSender.java
@@ -35,6 +35,16 @@ public interface MessageCommandSender extends CommandSender {
         throw new NotImplementedException();
     }
 
+    @Override
+    default int getOPLevel() {
+    	throw new NotImplementedException();
+    }
+
+    @Override
+    default void setOPLevel(int level) {
+    	throw new NotImplementedException();
+    }
+
     @Override
     default boolean isOp() {
         throw new NotImplementedException();
diff --git a/src/main/java/org/bukkit/permissions/PermissibleBase.java b/src/main/java/org/bukkit/permissions/PermissibleBase.java
index c94e4cdb5785d5dfcb704c4adabda0b19a20ec7d..deee817ae89c09b4c89503d08e0ecfcaa517eec7 100644
--- a/src/main/java/org/bukkit/permissions/PermissibleBase.java
+++ b/src/main/java/org/bukkit/permissions/PermissibleBase.java
@@ -31,6 +31,7 @@ public class PermissibleBase implements Permissible {
         recalculatePermissions();
     }
 
+    
     @Override
     public boolean isOp() {
         if (opable == null) {
@@ -270,4 +271,15 @@ public class PermissibleBase implements Permissible {
             attachment.remove();
         }
     }
+
+	@Override
+	public int getOPLevel() {
+		if(opable == null) throw new UnsupportedOperationException("Cannot get OP Level as no ServerOperator is set");
+		return opable.getOPLevel();
+	}
+
+	@Override
+	public void setOPLevel(int level) {
+		if(opable != null) opable.setOPLevel(level);
+	}
 }
