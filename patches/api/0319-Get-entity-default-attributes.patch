From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jake Potrebic <jake.m.potrebic@gmail.com>
Date: Fri, 20 Aug 2021 13:03:55 -0700
Subject: [PATCH] Get entity default attributes


diff --git a/src/main/java/io/papermc/paper/APIBridge.java b/src/main/java/io/papermc/paper/APIBridge.java
index 88b18a32682c8ea26c283a1830a265a414ff501e..5b8c1facc261c4f20c70bc712e4a7a37a178cf1c 100644
--- a/src/main/java/io/papermc/paper/APIBridge.java
+++ b/src/main/java/io/papermc/paper/APIBridge.java
@@ -3,10 +3,12 @@ package io.papermc.paper;
 import com.destroystokyo.paper.util.VersionFetcher;
 import io.papermc.paper.inventory.ItemRarity;
 import java.io.IOException;
+import net.kyori.adventure.key.Key;
 import net.kyori.adventure.text.Component;
 import net.kyori.adventure.text.flattener.ComponentFlattener;
 import net.kyori.adventure.util.Services;
 import org.bukkit.Material;
+import org.bukkit.attribute.Attributable;
 import org.bukkit.command.CommandSender;
 import org.bukkit.entity.Entity;
 import org.bukkit.inventory.ItemStack;
@@ -43,4 +45,8 @@ public interface APIBridge {
     ItemRarity getItemStackRarity(ItemStack itemStack);
 
     boolean isValidRepairItemStack(ItemStack itemToBeRepaired, ItemStack repairMaterial);
+
+    boolean hasDefaultEntityAttributes(Key entityTypeKey);
+
+    Attributable getDefaultEntityAttributes(Key entityTypeKey);
 }
diff --git a/src/main/java/org/bukkit/entity/EntityType.java b/src/main/java/org/bukkit/entity/EntityType.java
index 5f78a801d6fd10a0e0fa3ccf13bb1456eed12c13..4b420d2c2abce2b6e140402c742529e79f18ddc3 100644
--- a/src/main/java/org/bukkit/entity/EntityType.java
+++ b/src/main/java/org/bukkit/entity/EntityType.java
@@ -449,5 +449,24 @@ public enum EntityType implements Keyed, Translatable, net.kyori.adventure.trans
         Preconditions.checkArgument(this != UNKNOWN, "UNKNOWN entities do not have translation keys");
         return org.bukkit.Bukkit.getUnsafe().getTranslationKey(this);
     }
+
+    /**
+     * Checks if the entity has default attributes.
+     *
+     * @return true if it has default attributes
+     */
+    public boolean hasDefaultAttributes() {
+        return io.papermc.paper.APIBridge.INSTANCE.hasDefaultEntityAttributes(this.key);
+    }
+
+    /**
+     * Gets the default attributes for the entity.
+     *
+     * @return an unmodifiable instance of Attributable for reading default attributes.
+     * @throws IllegalArgumentException if the entity does not exist of have default attributes (use {@link #hasDefaultAttributes()} first)
+     */
+    public @NotNull org.bukkit.attribute.Attributable getDefaultAttributes() {
+        return io.papermc.paper.APIBridge.INSTANCE.getDefaultEntityAttributes(this.key);
+    }
     // Paper end
 }
