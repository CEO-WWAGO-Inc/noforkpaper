From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: 5jd <85830207+5jd@users.noreply.github.com>
Date: Wed, 5 Oct 2022 15:12:13 +0200
Subject: [PATCH] Fix MC-121706


diff --git a/src/main/java/net/minecraft/world/entity/ai/goal/RangedBowAttackGoal.java b/src/main/java/net/minecraft/world/entity/ai/goal/RangedBowAttackGoal.java
index 6558b0d4bea99948fdc2b51751f3cfdc239d4b67..fe14a7f72523a413019e03317d756ecd48023760 100644
--- a/src/main/java/net/minecraft/world/entity/ai/goal/RangedBowAttackGoal.java
+++ b/src/main/java/net/minecraft/world/entity/ai/goal/RangedBowAttackGoal.java
@@ -102,18 +102,18 @@ public class RangedBowAttackGoal<T extends Monster & RangedAttackMob> extends Go
                 this.strafingTime = 0;
             }
 
+            // Paper start - Fix MC-121706
             if (this.strafingTime > -1) {
                 if (d > (double)(this.attackRadiusSqr * 0.75F)) {
                     this.strafingBackwards = false;
+                    this.mob.lookAt(livingEntity, 30.0F, 30.0F);
+                    this.mob.getMoveControl().strafe(this.strafingBackwards ? -0.5F : 0.5F, this.strafingClockwise ? 0.5F : -0.5F);
                 } else if (d < (double)(this.attackRadiusSqr * 0.25F)) {
                     this.strafingBackwards = true;
+                    this.mob.getLookControl().setLookAt(livingEntity, 30.0F, 30.0F);
                 }
-
-                this.mob.getMoveControl().strafe(this.strafingBackwards ? -0.5F : 0.5F, this.strafingClockwise ? 0.5F : -0.5F);
-                this.mob.lookAt(livingEntity, 30.0F, 30.0F);
-            } else {
-                this.mob.getLookControl().setLookAt(livingEntity, 30.0F, 30.0F);
             }
+            // Paper end
 
             if (this.mob.isUsingItem()) {
                 if (!bl && this.seeTime < -60) {
