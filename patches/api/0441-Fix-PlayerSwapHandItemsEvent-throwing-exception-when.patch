From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Tamion <70228790+notTamion@users.noreply.github.com>
Date: Mon, 25 Sep 2023 19:55:51 +0200
Subject: [PATCH] Fix PlayerSwapHandItemsEvent throwing exception when mainhand
 or offhand set to null


diff --git a/src/main/java/org/bukkit/event/player/PlayerSwapHandItemsEvent.java b/src/main/java/org/bukkit/event/player/PlayerSwapHandItemsEvent.java
index 9f592317c920589c22a5fb8e916c6ca58ebe5c59..66cba3857c989b5e0633bf6a3f8ffdd2d2103a92 100644
--- a/src/main/java/org/bukkit/event/player/PlayerSwapHandItemsEvent.java
+++ b/src/main/java/org/bukkit/event/player/PlayerSwapHandItemsEvent.java
@@ -1,5 +1,6 @@
 package org.bukkit.event.player;
 
+import org.bukkit.Material; // Paper
 import org.bukkit.entity.Player;
 import org.bukkit.event.Cancellable;
 import org.bukkit.event.HandlerList;
@@ -42,7 +43,7 @@ public class PlayerSwapHandItemsEvent extends PlayerEvent implements Cancellable
      * @param mainHandItem new item in the main hand
      */
     public void setMainHandItem(@Nullable ItemStack mainHandItem) {
-        this.mainHandItem = mainHandItem;
+        this.mainHandItem = mainHandItem == null ? new ItemStack(Material.AIR) : mainHandItem; // Paper
     }
 
     /**
@@ -61,7 +62,7 @@ public class PlayerSwapHandItemsEvent extends PlayerEvent implements Cancellable
      * @param offHandItem new item in the off hand
      */
     public void setOffHandItem(@Nullable ItemStack offHandItem) {
-        this.offHandItem = offHandItem;
+        this.offHandItem = offHandItem == null ? new ItemStack(Material.AIR) : offHandItem; // Paper
     }
 
     @Override
