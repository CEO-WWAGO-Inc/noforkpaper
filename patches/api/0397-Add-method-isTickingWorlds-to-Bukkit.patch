From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: BuildTools <46540330+willkroboth@users.noreply.github.com>
Date: Fri, 19 Aug 2022 16:11:51 -0400
Subject: [PATCH] Add method isTickingWorlds() to Bukkit.


diff --git a/src/main/java/org/bukkit/Bukkit.java b/src/main/java/org/bukkit/Bukkit.java
index 840aaf9e8fc828b5a7ea02252038c6524680f2e0..0fee85267114b9a7ca1dc7d6e22b6dc45f0d7727 100644
--- a/src/main/java/org/bukkit/Bukkit.java
+++ b/src/main/java/org/bukkit/Bukkit.java
@@ -753,6 +753,17 @@ public final class Bukkit {
         return server.getWorlds();
     }
 
+    // Paper start
+    /**
+     * Gets whether the worlds are being ticked right not or not.
+     *
+     * @return true if the worlds are being ticked, false otherwise.
+     */
+    public static boolean isTickingWorlds(){
+        return server.isTickingWorlds();
+    }
+    // Paper end
+
     /**
      * Creates or loads a world with the given name using the specified
      * options.
@@ -762,6 +773,7 @@ public final class Bukkit {
      *
      * @param creator the options to use when creating the world
      * @return newly created or loaded world
+     * @throws IllegalStateException when {@link #isTickingWorlds() isTickingWorlds} is true
      */
     @Nullable
     public static World createWorld(@NotNull WorldCreator creator) {
@@ -774,6 +786,7 @@ public final class Bukkit {
      * @param name Name of the world to unload
      * @param save whether to save the chunks before unloading
      * @return true if successful, false otherwise
+     * @throws IllegalStateException when {@link #isTickingWorlds() isTickingWorlds} is true
      */
     public static boolean unloadWorld(@NotNull String name, boolean save) {
         return server.unloadWorld(name, save);
@@ -785,6 +798,7 @@ public final class Bukkit {
      * @param world the world to unload
      * @param save whether to save the chunks before unloading
      * @return true if successful, false otherwise
+     * @throws IllegalStateException when {@link #isTickingWorlds() isTickingWorlds} is true
      */
     public static boolean unloadWorld(@NotNull World world, boolean save) {
         return server.unloadWorld(world, save);
diff --git a/src/main/java/org/bukkit/Server.java b/src/main/java/org/bukkit/Server.java
index da5cab4246bd253fcc4e4d9574bdae1867ebb5ab..c4978bd132f3e3aa7fc0973db240cd733fa18b49 100644
--- a/src/main/java/org/bukkit/Server.java
+++ b/src/main/java/org/bukkit/Server.java
@@ -622,6 +622,15 @@ public interface Server extends PluginMessageRecipient, net.kyori.adventure.audi
     @NotNull
     public List<World> getWorlds();
 
+    // Paper start
+    /**
+     * Gets whether the worlds are being ticked right not or not.
+     *
+     * @return true if the worlds are being ticked, false otherwise.
+     */
+    public boolean isTickingWorlds();
+    // Paper end
+
     /**
      * Creates or loads a world with the given name using the specified
      * options.
@@ -631,6 +640,7 @@ public interface Server extends PluginMessageRecipient, net.kyori.adventure.audi
      *
      * @param creator the options to use when creating the world
      * @return newly created or loaded world
+     * @throws IllegalStateException when {@link #isTickingWorlds() isTickingWorlds} is true
      */
     @Nullable
     public World createWorld(@NotNull WorldCreator creator);
@@ -641,6 +651,7 @@ public interface Server extends PluginMessageRecipient, net.kyori.adventure.audi
      * @param name Name of the world to unload
      * @param save whether to save the chunks before unloading
      * @return true if successful, false otherwise
+     * @throws IllegalStateException when {@link #isTickingWorlds() isTickingWorlds} is true
      */
     public boolean unloadWorld(@NotNull String name, boolean save);
 
@@ -650,6 +661,7 @@ public interface Server extends PluginMessageRecipient, net.kyori.adventure.audi
      * @param world the world to unload
      * @param save whether to save the chunks before unloading
      * @return true if successful, false otherwise
+     * @throws IllegalStateException when {@link #isTickingWorlds() isTickingWorlds} is true
      */
     public boolean unloadWorld(@NotNull World world, boolean save);
 
