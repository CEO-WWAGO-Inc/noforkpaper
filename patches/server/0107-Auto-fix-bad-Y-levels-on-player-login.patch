From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Wed, 21 Sep 2016 23:48:39 -0400
Subject: [PATCH] Auto fix bad Y levels on player login

Bring down to a saner Y level if super high, as this can cause the server to crash

diff --git a/src/main/java/net/minecraft/server/players/PlayerList.java b/src/main/java/net/minecraft/server/players/PlayerList.java
index a9ab9bba799a95351cdb829b84163a564b41e0a8..462e8fa5af076ea6d5fb35196be8d3860960c70a 100644
--- a/src/main/java/net/minecraft/server/players/PlayerList.java
+++ b/src/main/java/net/minecraft/server/players/PlayerList.java
@@ -209,6 +209,7 @@ public abstract class PlayerList {
             worldserver1 = worldserver;
         }
 
+        if (player.getY() > worldserver1.getMaxBuildHeight() + 50) player.setPosRaw(player.getX(), worldserver1.getMaxBuildHeight() + 1d, player.getZ()); // Paper - bring down to a saner Y level if out of world
         player.setLevel(worldserver1);
         String s1 = "local";
 
