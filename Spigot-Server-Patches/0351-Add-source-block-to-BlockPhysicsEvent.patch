From 0a19635ed641d4e4908abc87b2f566d7d6272a76 Mon Sep 17 00:00:00 2001
From: Sotr <i@omc.hk>
Date: Sat, 25 Aug 2018 00:22:38 +0800
Subject: [PATCH] Add source block to BlockPhysicsEvent


diff --git a/src/main/java/net/minecraft/server/World.java b/src/main/java/net/minecraft/server/World.java
index 16d0c0d4..a4d9f0d5 100644
--- a/src/main/java/net/minecraft/server/World.java
+++ b/src/main/java/net/minecraft/server/World.java
@@ -603,7 +603,7 @@ public abstract class World implements GeneratorAccess, IIBlockAccess, AutoClose
                 // CraftBukkit start
                 CraftWorld world = ((WorldServer) this).getWorld();
                 if (world != null && !((WorldServer)this).stopPhysicsEvent) { // Paper
-                    BlockPhysicsEvent event = new BlockPhysicsEvent(world.getBlockAt(blockposition.getX(), blockposition.getY(), blockposition.getZ()), CraftBlockData.fromData(iblockdata));
+                    BlockPhysicsEvent event = new BlockPhysicsEvent(world.getBlockAt(blockposition.getX(), blockposition.getY(), blockposition.getZ()), CraftBlockData.fromData(iblockdata), blockposition1.getX(), blockposition1.getY(), blockposition1.getZ()); // Paper - add source block
                     this.getServer().getPluginManager().callEvent(event);
 
                     if (event.isCancelled()) {
-- 
2.18.0.windows.1

