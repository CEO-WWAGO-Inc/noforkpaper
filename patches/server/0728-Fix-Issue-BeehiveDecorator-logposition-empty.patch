From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: DoctaEnkoda <bierquejason@gmail.com>
Date: Sun, 18 Jul 2021 04:26:36 +0200
Subject: [PATCH] Fix Issue BeehiveDecorator logposition empty


diff --git a/src/main/java/net/minecraft/world/level/levelgen/feature/treedecorators/BeehiveDecorator.java b/src/main/java/net/minecraft/world/level/levelgen/feature/treedecorators/BeehiveDecorator.java
index f95956d0b99448b71d1d2b54ff9602e65aef81f3..cd700268434b59acad16d934b611988e4f69b08d 100644
--- a/src/main/java/net/minecraft/world/level/levelgen/feature/treedecorators/BeehiveDecorator.java
+++ b/src/main/java/net/minecraft/world/level/levelgen/feature/treedecorators/BeehiveDecorator.java
@@ -34,6 +34,7 @@ public class BeehiveDecorator extends TreeDecorator {
 
     @Override
     public void place(LevelSimulatedReader world, BiConsumer<BlockPos, BlockState> replacer, Random random, List<BlockPos> logPositions, List<BlockPos> leavesPositions) {
+        if (logPositions.isEmpty()) return; // PaperMC - Fix PaperMC#6028
         if (!(random.nextFloat() >= this.probability)) {
             Direction direction = BeehiveBlock.getRandomOffset(random);
             int i = !leavesPositions.isEmpty() ? Math.max(leavesPositions.get(0).getY() - 1, logPositions.get(0).getY()) : Math.min(logPositions.get(0).getY() + 1 + random.nextInt(3), logPositions.get(logPositions.size() - 1).getY());
@@ -46,9 +47,9 @@ public class BeehiveDecorator extends TreeDecorator {
                 if (Feature.isAir(world, blockPos2) && Feature.isAir(world, blockPos2.relative(Direction.SOUTH))) {
                     replacer.accept(blockPos2, Blocks.BEE_NEST.defaultBlockState().setValue(BeehiveBlock.FACING, Direction.SOUTH));
                     world.getBlockEntity(blockPos2, BlockEntityType.BEEHIVE).ifPresent((blockEntity) -> {
-                        int i = 2 + random.nextInt(2);
+                        int y = 2 + random.nextInt(2); // PaperMC - Fix deobf
 
-                        for(int j = 0; j < i; ++j) {
+                        for(int j = 0; j < y; ++j) { // PaperMC - Fix deobf
                             CompoundTag compoundTag = new CompoundTag();
                             compoundTag.putString("id", Registry.ENTITY_TYPE.getKey(EntityType.BEE).toString());
                             blockEntity.storeBee(compoundTag, random.nextInt(599), false);
