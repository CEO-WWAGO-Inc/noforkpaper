From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Connor Linfoot <connorlinfoot@me.com>
Date: Sun, 16 May 2021 15:07:34 +0100
Subject: [PATCH] Add basic ResourcePack/DataPack API


diff --git a/src/main/java/io/papermc/paper/resource/ResourcePack.java b/src/main/java/io/papermc/paper/resource/ResourcePack.java
new file mode 100644
index 0000000000000000000000000000000000000000..26f32901f95b55fe2cb7f88df720e1287c9e471c
--- /dev/null
+++ b/src/main/java/io/papermc/paper/resource/ResourcePack.java
@@ -0,0 +1,32 @@
+package io.papermc.paper.resource;
+
+import org.checkerframework.checker.nullness.qual.NonNull;
+
+public interface ResourcePack {
+
+    /**
+     * @return the name of the pack
+     */
+    @NonNull
+    String getName();
+
+    /**
+     * @return the compatibility of the pack
+     */
+    @NonNull
+    Compatibility getCompatibility();
+
+    /**
+     * @return whether or not the pack is currently enabled
+     */
+    boolean isEnabled();
+
+    void setEnabled(boolean enabled);
+
+    enum Compatibility {
+        TOO_OLD,
+        TOO_NEW,
+        COMPATIBLE,
+    }
+
+}
diff --git a/src/main/java/io/papermc/paper/resource/ResourcePackManager.java b/src/main/java/io/papermc/paper/resource/ResourcePackManager.java
new file mode 100644
index 0000000000000000000000000000000000000000..697efd26d967326a7526b938b9cbc0ff974cd8d1
--- /dev/null
+++ b/src/main/java/io/papermc/paper/resource/ResourcePackManager.java
@@ -0,0 +1,21 @@
+package io.papermc.paper.resource;
+
+import org.checkerframework.checker.nullness.qual.NonNull;
+
+import java.util.Collection;
+
+public interface ResourcePackManager {
+
+    /**
+     * @return all the packs known to the server
+     */
+    @NonNull
+    Collection<ResourcePack> getPacks();
+
+    /**
+     * @return all the packs which are currently enabled
+     */
+    @NonNull
+    Collection<ResourcePack> getEnabledPacks();
+
+}
diff --git a/src/main/java/org/bukkit/Bukkit.java b/src/main/java/org/bukkit/Bukkit.java
index 5f7208196684d9c8373df28b7cfb5f9e21baa41e..21450745ae5f54ac82b5ffae927f5c2c232125b9 100644
--- a/src/main/java/org/bukkit/Bukkit.java
+++ b/src/main/java/org/bukkit/Bukkit.java
@@ -13,6 +13,8 @@ import java.util.Set;
 import java.util.UUID;
 import java.util.function.Consumer;
 import java.util.logging.Logger;
+
+import io.papermc.paper.resource.ResourcePackManager; // Paper
 import org.bukkit.Warning.WarningState;
 import org.bukkit.advancement.Advancement;
 import org.bukkit.block.data.BlockData;
@@ -1937,6 +1939,14 @@ public final class Bukkit {
     public static com.destroystokyo.paper.entity.ai.MobGoals getMobGoals() {
         return server.getMobGoals();
     }
+
+    /**
+     * @return the resource pack manager
+     */
+    @NotNull
+    public static ResourcePackManager getResourcePackManager() {
+        return server.getResourcePackManager();
+    }
     // Paper end
 
     @NotNull
diff --git a/src/main/java/org/bukkit/Server.java b/src/main/java/org/bukkit/Server.java
index f3e27d2d02a9407bb1b091b8c1125ad5abf99e55..f31abc0940de2d3fbb45910e44f30ba8829f8b35 100644
--- a/src/main/java/org/bukkit/Server.java
+++ b/src/main/java/org/bukkit/Server.java
@@ -13,6 +13,8 @@ import java.util.Set;
 import java.util.UUID;
 import java.util.function.Consumer;
 import java.util.logging.Logger;
+
+import io.papermc.paper.resource.ResourcePackManager; // Paper
 import org.bukkit.Warning.WarningState;
 import org.bukkit.advancement.Advancement;
 import org.bukkit.block.data.BlockData;
@@ -1698,5 +1700,11 @@ public interface Server extends PluginMessageRecipient, net.kyori.adventure.audi
      */
     @NotNull
     com.destroystokyo.paper.entity.ai.MobGoals getMobGoals();
+
+    /**
+     * @return the resource pack manager
+     */
+    @NotNull
+    ResourcePackManager getResourcePackManager();
     // Paper end
 }
