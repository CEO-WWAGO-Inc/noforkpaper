From c733f27c391faff1ffe6b562194afa4f45abb901 Mon Sep 17 00:00:00 2001
From: Sam Ezeh <spammy23@noreply.users.github.com>
Date: Wed, 30 Aug 2017 21:57:51 +0100
Subject: [PATCH] Added ban events


diff --git a/src/main/java/com/destroystokyo/paper/event/server/BanEvent.java b/src/main/java/com/destroystokyo/paper/event/server/BanEvent.java
new file mode 100644
index 00000000..bd9f66af
--- /dev/null
+++ b/src/main/java/com/destroystokyo/paper/event/server/BanEvent.java
@@ -0,0 +1,132 @@
+package com.destroystokyo.paper.event.server;
+
+import org.bukkit.BanEntry;
+import org.bukkit.event.Cancellable;
+import org.bukkit.event.HandlerList;
+import org.bukkit.event.server.ServerEvent;
+
+import java.util.Date;
+
+/**
+ * Called when a player is banned
+ */
+public abstract class BanEvent extends ServerEvent implements Cancellable {
+    private final Date created;
+    private Date expiration;
+    private String source;
+    private String reason;
+    private String target;
+    private boolean cancel = false;
+    private static final HandlerList handlers = new HandlerList();
+
+    BanEvent(final BanEntry entry) {
+        this(entry.getTarget(), entry.getCreated(), entry.getSource(), entry.getExpiration(), entry.getReason());
+    }
+
+    BanEvent(final String target, final Date created, final String source, Date expiration, String reason) {
+        this.created = created;
+        this.expiration = expiration;
+        this.source = source;
+        this.reason = reason;
+        this.target = target;
+    }
+
+    @Override
+    public boolean isCancelled() {
+        return cancel;
+    }
+
+    @Override
+    public void setCancelled(boolean cancel) {
+        this.cancel = cancel;
+    }
+    @Override
+    public HandlerList getHandlers() {
+    	return handlers;
+    }
+
+    public static HandlerList getHandlerList() {
+        return handlers;
+    }
+
+    /**
+     * Returns the reason for why the player was banned
+     *
+     * @return the ban reason
+     */
+    public String getReason() {
+        return reason;
+    }
+
+    /**
+     * Sets the reason for the ban
+     *
+     * @param reason the new ban reason
+     */
+    public void setReason(String reason) {
+        this.reason = reason;
+    }
+
+    /**
+     * Returns the target of the ban
+     *
+     * @return the ban target
+     */
+    public String getTarget() {
+        return target;
+    }
+
+    /**
+     * Sets the target of the ban
+     *
+     * @param target the new ban target
+     */
+    public void setTarget(String target) {
+        this.target = target;
+    }
+
+    /**
+     * Returns the time when the ban was created
+     *
+     * @return the ban creation time
+     */
+    public Date getCreated() {
+        return created;
+    }
+
+    /**
+     * Returns the time when the ban expires
+     *
+     * @return when the ban expires
+     */
+    public Date getExpiration() {
+        return expiration;
+    }
+
+    /**
+     * Sets the time for when the ban expires
+     *
+     * @param expiration the new expiration
+     */
+    public void setExpiration(Date expiration) {
+        this.expiration = expiration;
+    }
+
+    /**
+     * Returns the source of the ban
+     *
+     * @return the ban source
+     */
+    public String getSource() {
+        return source;
+    }
+
+    /**
+     * Sets the source of the ban
+     *
+     * @param source the new ban source
+     */
+    public void setSource(String source) {
+        this.source = source;
+    }
+}
diff --git a/src/main/java/com/destroystokyo/paper/event/server/BanIpEvent.java b/src/main/java/com/destroystokyo/paper/event/server/BanIpEvent.java
new file mode 100644
index 00000000..273021ed
--- /dev/null
+++ b/src/main/java/com/destroystokyo/paper/event/server/BanIpEvent.java
@@ -0,0 +1,11 @@
+package com.destroystokyo.paper.event.server;
+
+import org.bukkit.BanEntry;
+/**
+ * Called when a player is banned through their IP
+ */
+public class BanIpEvent extends BanEvent{
+    public BanIpEvent(final BanEntry entry) {
+        super(entry);
+    }
+}
diff --git a/src/main/java/com/destroystokyo/paper/event/server/BanProfileEvent.java b/src/main/java/com/destroystokyo/paper/event/server/BanProfileEvent.java
new file mode 100644
index 00000000..278ae66a
--- /dev/null
+++ b/src/main/java/com/destroystokyo/paper/event/server/BanProfileEvent.java
@@ -0,0 +1,12 @@
+package com.destroystokyo.paper.event.server;
+
+import org.bukkit.BanEntry;
+/**
+ * Called when a player is banned using their Mojang auth profile
+ * */
+public class BanProfileEvent extends BanEvent{
+    public BanProfileEvent(final BanEntry entry){
+        super(entry);
+    }
+
+}
-- 
2.14.1

