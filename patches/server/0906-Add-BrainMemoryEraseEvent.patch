From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Togira <70365614+Togira123@users.noreply.github.com>
Date: Sat, 21 May 2022 16:22:48 +0200
Subject: [PATCH] Add BrainMemoryEraseEvent


diff --git a/src/main/java/net/minecraft/world/entity/ai/Brain.java b/src/main/java/net/minecraft/world/entity/ai/Brain.java
index 7abc629d7e865786372d6e872d997d2e3c73fc7f..76e38bc2a94ebc088c5aed1c8ae2cdbeba913b7b 100644
--- a/src/main/java/net/minecraft/world/entity/ai/Brain.java
+++ b/src/main/java/net/minecraft/world/entity/ai/Brain.java
@@ -143,7 +143,9 @@ public class Brain<E extends LivingEntity> {
     }
 
     public <U> void eraseMemory(MemoryModuleType<U> type) {
-        this.setMemory(type, Optional.empty());
+        if (new io.papermc.paper.event.entity.BrainMemoryEraseEvent(org.bukkit.craftbukkit.entity.memory.CraftMemoryKey.toMemoryKey(type)).callEvent()) {
+            this.setMemory(type, Optional.empty());
+        }
     }
 
     public <U> void setMemory(MemoryModuleType<U> type, @Nullable U value) {
