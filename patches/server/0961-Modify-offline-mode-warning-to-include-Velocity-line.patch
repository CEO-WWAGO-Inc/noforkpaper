From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: mja00 <me@mja00.dev>
Date: Tue, 24 Jan 2023 17:29:44 -0500
Subject: [PATCH] Modify offline mode warning to include Velocity line


diff --git a/src/main/java/net/minecraft/server/dedicated/DedicatedServer.java b/src/main/java/net/minecraft/server/dedicated/DedicatedServer.java
index 51b3db0b6c2cede95b584268e035c0fb36d38094..79d6a29fcf99b76d9e209c8ff9f2586f3c1cf467 100644
--- a/src/main/java/net/minecraft/server/dedicated/DedicatedServer.java
+++ b/src/main/java/net/minecraft/server/dedicated/DedicatedServer.java
@@ -281,6 +281,11 @@ public class DedicatedServer extends MinecraftServer implements ServerInterface
             if (org.spigotmc.SpigotConfig.bungee) {
                 DedicatedServer.LOGGER.warn("Whilst this makes it possible to use BungeeCord, unless access to your server is properly restricted, it also opens up the ability for hackers to connect with any username they choose.");
                 DedicatedServer.LOGGER.warn("Please see http://www.spigotmc.org/wiki/firewall-guide/ for further information.");
+                // Paper start
+            } else if (io.papermc.paper.configuration.GlobalConfiguration.get().proxies.velocity.enabled) {
+                DedicatedServer.LOGGER.warn("Whilst this makes it possible to use Velocity, unless access to your server is properly restricted, it also opens up the ability for hackers to connect with any username they choose.");
+                DedicatedServer.LOGGER.warn("Please see https://docs.papermc.io/velocity/security for further information.");
+                // Paper end
             } else {
                 DedicatedServer.LOGGER.warn("While this makes the game possible to play without internet access, it also opens up the ability for hackers to connect with any username they choose.");
             }
