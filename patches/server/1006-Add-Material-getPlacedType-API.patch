From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aya <31237389+tal5@users.noreply.github.com>
Date: Tue, 15 Aug 2023 10:05:42 +0100
Subject: [PATCH] Add Material#getPlacedType API


diff --git a/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java b/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java
index 719e7103f7dfdc30f1cefd24a3fa572fa0ac8b1e..abaed7df0b50df94fab82a751fa68376325a5b4d 100644
--- a/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java
+++ b/src/main/java/org/bukkit/craftbukkit/util/CraftMagicNumbers.java
@@ -56,7 +56,6 @@ import org.bukkit.craftbukkit.CraftEquipmentSlot;
 import org.bukkit.craftbukkit.CraftFeatureFlag;
 import org.bukkit.craftbukkit.attribute.CraftAttributeInstance;
 import org.bukkit.craftbukkit.attribute.CraftAttributeMap;
-import org.bukkit.craftbukkit.block.CraftBlock;
 import org.bukkit.craftbukkit.block.data.CraftBlockData;
 import org.bukkit.craftbukkit.inventory.CraftItemStack;
 import org.bukkit.craftbukkit.legacy.CraftLegacy;
@@ -630,6 +629,15 @@ public final class CraftMagicNumbers implements UnsafeValues {
     }
     // Paper end
 
+    // Paper Start
+    @Override
+    public Material getPlacedType(Material item) {
+        Item nmsItem = getItem(item);
+        Preconditions.checkArgument(nmsItem != null, "%s is not an item", item);
+        return nmsItem instanceof net.minecraft.world.item.BlockItem nmsBlockItem ? getMaterial(nmsBlockItem.getBlock()) : null;
+    }
+    // Paper end
+
     /**
      * This helper class represents the different NBT Tags.
      * <p>
