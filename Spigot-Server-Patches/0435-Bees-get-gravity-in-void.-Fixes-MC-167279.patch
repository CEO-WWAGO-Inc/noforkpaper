From 2489a23bdb7592b3f834adf5944598e3f507e6bb Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <Blake.Galbreath@GMail.com>
Date: Sun, 26 Jan 2020 16:30:19 -0600
Subject: [PATCH] Bees get gravity in void. Fixes MC-167279


diff --git a/src/main/java/net/minecraft/server/EntityBee.java b/src/main/java/net/minecraft/server/EntityBee.java
index f67d66b9a..5f652fbbb 100644
--- a/src/main/java/net/minecraft/server/EntityBee.java
+++ b/src/main/java/net/minecraft/server/EntityBee.java
@@ -36,7 +36,17 @@ public class EntityBee extends EntityAnimal implements EntityBird {
 
     public EntityBee(EntityTypes<? extends EntityBee> entitytypes, World world) {
         super(entitytypes, world);
-        this.moveController = new ControllerMoveFlying(this, 20, true);
+        // Paper start - apply gravity to bees when they get stuck in the void, fixes MC-167279
+        this.moveController = new ControllerMoveFlying(this, 20, true) {
+            @Override
+            public void a() {
+                if (a.locY() <= 0) {
+                    a.setNoGravity(false);
+                }
+                super.a();
+            }
+        };
+        // Paper end
         this.lookController = new EntityBee.j(this);
         this.a(PathType.WATER, -1.0F);
         this.a(PathType.COCOA, -1.0F);
-- 
2.24.0

