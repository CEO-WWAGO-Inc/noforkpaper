From 03ed46633fd3e12856fe5caf9bc749dba55a8081 Mon Sep 17 00:00:00 2001
From: Dexton Anderson <contact@dextonanderson.com>
Date: Sun, 9 Jun 2019 11:27:54 -0500
Subject: [PATCH] Fix NPE crash due painting mob spawn eggs


diff --git a/src/main/java/net/minecraft/server/EntityHanging.java b/src/main/java/net/minecraft/server/EntityHanging.java
index 381140ee..e45183a7 100644
--- a/src/main/java/net/minecraft/server/EntityHanging.java
+++ b/src/main/java/net/minecraft/server/EntityHanging.java
@@ -220,7 +220,11 @@ public abstract class EntityHanging extends Entity {
     }
 
     public void b(NBTTagCompound nbttagcompound) {
-        nbttagcompound.setByte("Facing", (byte) this.direction.get2DRotationValue());
+        // Paper start - prevent NPE if direction is null
+        if (this.direction != null) {
+            nbttagcompound.setByte("Facing", (byte) this.direction.get2DRotationValue());
+        }
+        // Paper end
         BlockPosition blockposition = this.getBlockPosition();
 
         nbttagcompound.setInt("TileX", blockposition.getX());
-- 
2.19.1.windows.1

