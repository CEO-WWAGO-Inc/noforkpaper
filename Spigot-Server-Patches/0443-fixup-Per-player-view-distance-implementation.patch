From be0d3cdfcbb747ec156c1c4588b8a6c8a2856444 Mon Sep 17 00:00:00 2001
From: Spottedleaf <Spottedleaf@users.noreply.github.com>
Date: Fri, 14 Feb 2020 03:16:02 -0800
Subject: [PATCH] fixup! Per player view distance implementation


diff --git a/src/main/java/net/minecraft/server/PlayerChunkMap.java b/src/main/java/net/minecraft/server/PlayerChunkMap.java
index b6c0824ca..115833c53 100644
--- a/src/main/java/net/minecraft/server/PlayerChunkMap.java
+++ b/src/main/java/net/minecraft/server/PlayerChunkMap.java
@@ -141,6 +141,9 @@ public class PlayerChunkMap extends IChunkLoader implements PlayerChunk.d {
         this.updateMaps(player);
 
 
+        // Paper start - per player view distance
+        this.getChunkMapDistanceManager().playerTicketHandler.addPlayer(player);
+        // Paper end - per player view distance
 
     }
 
@@ -152,6 +155,7 @@ public class PlayerChunkMap extends IChunkLoader implements PlayerChunk.d {
         // Paper start - per player view distance
         this.playerViewDistanceTicketMap.remove(player);
         this.playerViewDistanceBroadcastMap.remove(player);
+        this.getChunkMapDistanceManager().playerTicketHandler.removePlayer(player);
         // Paper end - per player view distance
 
 
-- 
2.25.0

