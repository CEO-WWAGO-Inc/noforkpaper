From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: rgnter <maros.prejsa1@gmail.com>
Date: Mon, 3 Jan 2022 17:57:27 +0100
Subject: [PATCH] steer vehicle event


diff --git a/src/main/java/net/minecraft/server/network/ServerGamePacketListenerImpl.java b/src/main/java/net/minecraft/server/network/ServerGamePacketListenerImpl.java
index 926d0a80cbb55184955ac6720948d2e86683cc57..19ce4d2aaa54909d1d0afb3ef58f449f348880be 100644
--- a/src/main/java/net/minecraft/server/network/ServerGamePacketListenerImpl.java
+++ b/src/main/java/net/minecraft/server/network/ServerGamePacketListenerImpl.java
@@ -1,5 +1,6 @@
 package net.minecraft.server.network;
 
+import com.destroystokyo.paper.event.player.PlayerSteerVehicleEvent;
 import com.google.common.collect.Lists;
 import com.google.common.primitives.Floats;
 import com.mojang.brigadier.ParseResults;
@@ -494,6 +495,11 @@ public class ServerGamePacketListenerImpl implements ServerPlayerConnection, Ser
     public void handlePlayerInput(ServerboundPlayerInputPacket packet) {
         PacketUtils.ensureRunningOnSameThread(packet, this, this.player.getLevel());
         this.player.setPlayerInput(packet.getXxa(), packet.getZza(), packet.isJumping(), packet.isShiftKeyDown());
+        // paper start - steer vehicle event
+        this.cserver.getPluginManager().callEvent(new PlayerSteerVehicleEvent(
+            packet.getXxa(), packet.getZza(), packet.isJumping(), packet.isShiftKeyDown()
+        ));
+        // paper end
     }
 
     private static boolean containsInvalidValues(double x, double y, double z, float yaw, float pitch) {
