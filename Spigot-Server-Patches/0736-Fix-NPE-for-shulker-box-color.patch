From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jake Potrebic <jake.m.potrebic@gmail.com>
Date: Thu, 20 May 2021 16:53:39 -0700
Subject: [PATCH] Fix NPE for shulker box color


diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftShulkerBox.java b/src/main/java/org/bukkit/craftbukkit/block/CraftShulkerBox.java
index e9c8ce7a1e721d4b387c4d14910786cdf7c70a69..ae5d6607bbfb737f454e31062ec7218ac226d0cd 100644
--- a/src/main/java/org/bukkit/craftbukkit/block/CraftShulkerBox.java
+++ b/src/main/java/org/bukkit/craftbukkit/block/CraftShulkerBox.java
@@ -41,7 +41,7 @@ public class CraftShulkerBox extends CraftLootable<TileEntityShulkerBox> impleme
     public DyeColor getColor() {
         net.minecraft.world.level.block.Block block = CraftMagicNumbers.getBlock(this.getType());
 
-        return DyeColor.getByWoolData((byte) ((BlockShulkerBox) block).color.getColorIndex());
+        return ((BlockShulkerBox) block).color == null ? null : DyeColor.getByWoolData((byte) ((BlockShulkerBox) block).color.getColorIndex()); // Paper
     }
 
     @Override
