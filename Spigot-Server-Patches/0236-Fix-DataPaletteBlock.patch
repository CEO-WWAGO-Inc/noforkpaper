From 4b29c396cabd5769d64e30e038e4003ec9ebf5ac Mon Sep 17 00:00:00 2001
From: stonar96 <minecraft.stonar96@gmail.com>
Date: Fri, 1 Sep 2017 23:19:15 +0200
Subject: [PATCH] Fix DataPaletteBlock


diff --git a/src/main/java/net/minecraft/server/DataPaletteBlock.java b/src/main/java/net/minecraft/server/DataPaletteBlock.java
index 1f2fe87b..bc0a719a 100644
--- a/src/main/java/net/minecraft/server/DataPaletteBlock.java
+++ b/src/main/java/net/minecraft/server/DataPaletteBlock.java
@@ -132,6 +132,6 @@ public class DataPaletteBlock implements DataPaletteExpandable {
     }
 
     public int a() {
-        return 1 + this.c.a() + PacketDataSerializer.a(this.b.b()) + this.b.a().length * 8;
+        return 1 + this.c.a() + PacketDataSerializer.a(this.b.a().length) + this.b.a().length * 8; // Paper - replace this.b.b() with this.b.a().length (see b(PacketDataSerializer))
     }
 }
-- 
2.13.3.windows.1

