From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: thamid-gamer <60953955+thamid-gamer@users.noreply.github.com>
Date: Sat, 31 Jul 2021 03:42:41 -0400
Subject: [PATCH] Expose Player Idle Time


diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
index 63aa742c505e14faa9bf5df29a8f759486fac80b..27c2eb5203176edb429340676dc721189ab2801a 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
@@ -2355,6 +2355,11 @@ public class CraftPlayer extends CraftHumanEntity implements Player {
         getHandle().resetAttackStrengthTicker();
     }
 
+    @Override
+    public long getIdleTime() {
+        return Util.getMillis() - getHandle().getLastActionTime();
+    }
+
     @Override
     public void remove() {
         if (this.getHandle().getClass().equals(ServerPlayer.class)) { // special case for NMS plugins inheriting
