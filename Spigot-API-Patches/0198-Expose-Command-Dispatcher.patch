From e95be1b62ddfcdab35c802c2540edcea4e878ec6 Mon Sep 17 00:00:00 2001
From: MiniDigger <admin@minidigger.me>
Date: Sun, 19 Apr 2020 21:51:27 +0200
Subject: [PATCH] Expose Command Dispatcher


diff --git a/pom.xml b/pom.xml
index 2cb97140..617dd633 100644
--- a/pom.xml
+++ b/pom.xml
@@ -116,6 +116,13 @@
             <version>1.7.25</version>
             <scope>compile</scope>
         </dependency>
+        <!-- Paper - Add brigadier - bundled with minecraft, should be kept in sync -->
+        <dependency>
+            <groupId>com.mojang</groupId>
+            <artifactId>brigadier</artifactId>
+            <version>0.1.27</version>
+            <scope>compile</scope>
+        </dependency>
         <!-- testing -->
         <dependency>
             <groupId>junit</groupId>
diff --git a/src/main/java/org/bukkit/Bukkit.java b/src/main/java/org/bukkit/Bukkit.java
index ea3e5d6f..cac6ca83 100644
--- a/src/main/java/org/bukkit/Bukkit.java
+++ b/src/main/java/org/bukkit/Bukkit.java
@@ -1608,6 +1608,16 @@ public final class Bukkit {
         return server.getCommandMap();
     }
 
+    /**
+     * Gets the active {@link com.mojang.brigadier.CommandDispatcher}
+     *
+     * @return the active command dispatcher
+     */
+    @NotNull
+    public static com.mojang.brigadier.CommandDispatcher getCommandDispatcher() {
+        return server.getCommandDispatcher();
+    }
+
     /**
      * Reload the Permissions in permissions.yml
      */
diff --git a/src/main/java/org/bukkit/Server.java b/src/main/java/org/bukkit/Server.java
index 9ceaac0e..c819c43c 100644
--- a/src/main/java/org/bukkit/Server.java
+++ b/src/main/java/org/bukkit/Server.java
@@ -1214,6 +1214,14 @@ public interface Server extends PluginMessageRecipient {
     @NotNull
     org.bukkit.command.CommandMap getCommandMap();
 
+    /**
+     * Gets the active {@link com.mojang.brigadier.CommandDispatcher}
+     *
+     * @return the active command dispatcher
+     */
+    @NotNull
+    com.mojang.brigadier.CommandDispatcher getCommandDispatcher();
+
     /**
      * Get the advancement specified by this key.
      *
-- 
2.17.1

