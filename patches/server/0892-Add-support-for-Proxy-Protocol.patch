From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: PanSzelescik <panszelescik@gmail.com>
Date: Sat, 9 Apr 2022 22:30:51 +0200
Subject: [PATCH] Add support for Proxy Protocol


diff --git a/src/main/java/net/minecraft/server/network/ServerConnectionListener.java b/src/main/java/net/minecraft/server/network/ServerConnectionListener.java
index bd378482b82c15cba1eeaa620521ad9ed460a1da..d0986ddd43087a120c0549a44253b40cec616374 100644
--- a/src/main/java/net/minecraft/server/network/ServerConnectionListener.java
+++ b/src/main/java/net/minecraft/server/network/ServerConnectionListener.java
@@ -135,6 +135,7 @@ public class ServerConnectionListener {
                             @Override
                             public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {
                                 if (msg instanceof io.netty.handler.codec.haproxy.HAProxyMessage message) {
+                                    System.out.println(msg);
                                     String realaddress = message.sourceAddress();
                                     int realport = message.sourcePort();
 
