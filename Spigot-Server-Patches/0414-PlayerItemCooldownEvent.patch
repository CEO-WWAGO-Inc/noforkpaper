From 7585779843be41b1aeb714e2d19768a1d2d845e3 Mon Sep 17 00:00:00 2001
From: KennyTV <28825609+KennyTV@users.noreply.github.com>
Date: Sat, 31 Aug 2019 17:40:04 +0200
Subject: [PATCH] PlayerItemCooldownEvent


diff --git a/src/main/java/net/minecraft/server/ItemCooldownPlayer.java b/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
index 27cde8c15..a5014e42f 100644
--- a/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
+++ b/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
@@ -2,12 +2,23 @@ package net.minecraft.server;
 
 public class ItemCooldownPlayer extends ItemCooldown {
 
-    private final EntityPlayer a;
+    private final EntityPlayer a; public EntityPlayer getEntityPlayer() { return a; } // Paper - OBFHELPER
 
     public ItemCooldownPlayer(EntityPlayer entityplayer) {
         this.a = entityplayer;
     }
 
+    // Paper start
+    @Override
+    public void setCooldown(Item item, int ticks) {
+        com.destroystokyo.paper.event.player.PlayerItemCooldownEvent event =
+            new com.destroystokyo.paper.event.player.PlayerItemCooldownEvent(getEntityPlayer().getBukkitEntity(), org.bukkit.craftbukkit.util.CraftMagicNumbers.getMaterial(item), ticks);
+        if (!event.callEvent()) return;
+
+        super.setCooldown(item, event.getCooldown());
+    }
+    // Paper end
+
     @Override
     protected void b(Item item, int i) {
         super.b(item, i);
-- 
2.13.0.windows.1

