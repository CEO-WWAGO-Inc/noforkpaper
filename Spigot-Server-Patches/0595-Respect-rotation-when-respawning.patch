From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Ivan Pekov <ivan@mrivanplays.com>
Date: Fri, 4 Sep 2020 11:02:39 +0300
Subject: [PATCH] Respect rotation when respawning


diff --git a/src/main/java/net/minecraft/server/PlayerList.java b/src/main/java/net/minecraft/server/PlayerList.java
index 38f26e25cb7d022c0bec5a5928db70611a0d347a..1defcc50740ddf2aeb2c67e29ab3cb5fc2743690 100644
--- a/src/main/java/net/minecraft/server/PlayerList.java
+++ b/src/main/java/net/minecraft/server/PlayerList.java
@@ -804,7 +804,7 @@ public abstract class PlayerList {
                     entityplayer1.setRespawnPosition(worldserver1.getDimensionKey(), blockposition, f, flag1, false);
                     flag2 = !flag && flag3;
                     isBedSpawn = true;
-                    location = new Location(worldserver1.getWorld(), vec3d.x, vec3d.y, vec3d.z);
+                    location = new Location(worldserver1.getWorld(), vec3d.x, vec3d.y, vec3d.z, f1, 0.0F); // Paper - respect rotation
                 } else if (blockposition != null) {
                     entityplayer1.playerConnection.sendPacket(new PacketPlayOutGameStateChange(PacketPlayOutGameStateChange.a, 0.0F));
                 }
