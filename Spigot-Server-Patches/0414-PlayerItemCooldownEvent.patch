From d639f4b302aed66f6b321de4aeee058d9790ec2d Mon Sep 17 00:00:00 2001
From: KennyTV <28825609+KennyTV@users.noreply.github.com>
Date: Sat, 31 Aug 2019 17:40:04 +0200
Subject: [PATCH] PlayerItemCooldownEvent


diff --git a/src/main/java/net/minecraft/server/ItemCooldownPlayer.java b/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
index 27cde8c15..19ddb7258 100644
--- a/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
+++ b/src/main/java/net/minecraft/server/ItemCooldownPlayer.java
@@ -1,5 +1,8 @@
 package net.minecraft.server;
 
+import com.destroystokyo.paper.event.player.PlayerItemCooldownEvent;
+import org.bukkit.craftbukkit.util.CraftMagicNumbers;
+
 public class ItemCooldownPlayer extends ItemCooldown {
 
     private final EntityPlayer a;
@@ -8,6 +11,16 @@ public class ItemCooldownPlayer extends ItemCooldown {
         this.a = entityplayer;
     }
 
+    // Paper start
+    @Override
+    public void setCooldown(Item item, int i) {
+        PlayerItemCooldownEvent event = new PlayerItemCooldownEvent(a.getBukkitEntity(), CraftMagicNumbers.getMaterial(item), i);
+        if (!event.callEvent()) return;
+
+        super.setCooldown(item, event.getCooldown());
+    }
+    // Paper end
+
     @Override
     protected void b(Item item, int i) {
         super.b(item, i);
-- 
2.13.0.windows.1

