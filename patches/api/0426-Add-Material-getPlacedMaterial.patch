From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jake Potrebic <jake.m.potrebic@gmail.com>
Date: Wed, 29 Sep 2021 13:23:18 -0700
Subject: [PATCH] Add Material#getPlacedMaterial

Co-authored-by: Aya <31237389+tal5@users.noreply.github.com>

diff --git a/src/main/java/org/bukkit/Material.java b/src/main/java/org/bukkit/Material.java
index 03b47012447430a350e152920f754d993d4023db..c2bde309c439ecf70aa4c2234da390e9c9b0cb3b 100644
--- a/src/main/java/org/bukkit/Material.java
+++ b/src/main/java/org/bukkit/Material.java
@@ -4498,6 +4498,54 @@ public enum Material implements Keyed, Translatable, net.kyori.adventure.transla
     }
     // Paper end
 
+    // Paper start - getPlacedMaterial
+    /**
+     * Gets the material if this material was placed down. Must
+     * be a block item and satisfy {@link Material#isItem()}.
+     * <p>
+     * For most placeable items this is the same type as the item, but some examples
+     * where that isn't true include:
+     * <ul>
+     *     <li>{@link #REDSTONE} -> {@link #REDSTONE_WIRE}</li>
+     *     <li>{@link #PUMPKIN_SEEDS} -> {@link #PUMPKIN_STEM}</li>
+     * </ul>
+     * <p>
+     * For items that create blocks that could be standing or
+     * wall-mounted like skulls, torches, coral, signs, banners, etc.,
+     * this returns the standing version.
+     *
+     * @return the placed material or null
+     * @throws IllegalArgumentException if this is not an item
+     */
+    public @Nullable Material getPlacedMaterial() {
+        return Bukkit.getUnsafe().getPlacedMaterial(this, false);
+    }
+
+    /**
+     * Gets the material if this material was placed down. Must
+     * be a block item and satisfy {@link Material#isItem()}.
+     * <p>
+     * For most placeable items this is the same type as the item, but some examples
+     * where that isn't true include:
+     * <ul>
+     *     <li>{@link #REDSTONE} -> {@link #REDSTONE_WIRE}</li>
+     *     <li>{@link #PUMPKIN_SEEDS} -> {@link #PUMPKIN_STEM}</li>
+     * </ul>
+     * <p>
+     * Some items create standing or wall-mounted blocks, like
+     * skulls, torches, coral, signs, and banners. Set {@code onWall} to
+     * true to return the wall-mounted block otherwise the
+     * standing block material will be returned.
+     *
+     * @param onWall true to return the wall-mounted material if it exists
+     * @return the placed material or null
+     * @throws IllegalArgumentException if this is not an item
+     */
+    public @Nullable Material getPlacedMaterial(boolean onWall) {
+        return Bukkit.getUnsafe().getPlacedMaterial(this, onWall);
+    }
+    // Paper end - getPlacedMaterial
+
     /**
      * Do not use for any reason.
      *
diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java
index de36dab37d3af249cf51573d163731c12346066a..4c64427a6212d75d9a83be571aff8d59ed3845f0 100644
--- a/src/main/java/org/bukkit/UnsafeValues.java
+++ b/src/main/java/org/bukkit/UnsafeValues.java
@@ -252,4 +252,6 @@ public interface UnsafeValues {
 
     String getStatisticCriteriaKey(@NotNull org.bukkit.Statistic statistic);
     // Paper end
+
+    @org.jetbrains.annotations.Nullable Material getPlacedMaterial(@org.jetbrains.annotations.NotNull Material itemMaterial, boolean onWall); // Paper - get PlacedMaterial
 }
