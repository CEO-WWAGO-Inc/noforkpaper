From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: The456gamer <the456gamer@the456gamer.dev>
Date: Mon, 21 Aug 2023 14:13:43 +0100
Subject: [PATCH] Expose itemStack in hand during BlockCanBuildEvent


diff --git a/src/main/java/org/bukkit/event/block/BlockCanBuildEvent.java b/src/main/java/org/bukkit/event/block/BlockCanBuildEvent.java
index a1350c0f74d445dca09eea6e10abac050bb06990..f03805375fab3ea260bae74dd17e745c2f07b2ca 100644
--- a/src/main/java/org/bukkit/event/block/BlockCanBuildEvent.java
+++ b/src/main/java/org/bukkit/event/block/BlockCanBuildEvent.java
@@ -25,10 +25,11 @@ public class BlockCanBuildEvent extends BlockEvent {
 
     protected BlockData blockData;
     private final Player player;
+    private final org.bukkit.inventory.ItemStack itemInHand; // Paper - expose item
 
     @Deprecated
     public BlockCanBuildEvent(@NotNull final Block block, @NotNull final BlockData type, final boolean canBuild) {
-        this(block, null, type, canBuild);
+        this(block, null, type, canBuild, null); // Paper - expose item
     }
 
     /**
@@ -37,12 +38,23 @@ public class BlockCanBuildEvent extends BlockEvent {
      * @param type the id of the block to place
      * @param canBuild whether we can build
      */
-    public BlockCanBuildEvent(@NotNull final Block block, @Nullable final Player player, @NotNull final BlockData type, final boolean canBuild) {
+    public BlockCanBuildEvent(@NotNull final Block block, @Nullable final Player player, @NotNull final BlockData type, final boolean canBuild, @Nullable final org.bukkit.inventory.ItemStack item) { // Paper - expose item
         super(block);
         this.player = player;
         this.buildable = canBuild;
         this.blockData = type;
+        this.itemInHand = item; // Paper - expose item
     }
+    // Paper start - expose item
+    /**
+     * Gets the ItemStack the player placed
+     *
+     * @return the ItemStack in the players hand.
+     */
+    public org.bukkit.inventory.ItemStack getItemInHand() {
+        return itemInHand;
+    }
+    // Paper end - expose item
 
     /**
      * Gets whether or not the block can be built here.
