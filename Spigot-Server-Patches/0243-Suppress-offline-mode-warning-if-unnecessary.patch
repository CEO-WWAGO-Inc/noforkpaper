From 9a16f45a9065fc4d0d52bbf71af17159f3713684 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Joshua=20Dean=20K=C3=BCpper?= <admin@joshua-kuepper.de>
Date: Sat, 7 Oct 2017 23:49:07 +0200
Subject: [PATCH] Suppress offline-mode-warning if unnecessary


diff --git a/src/main/java/net/minecraft/server/DedicatedServer.java b/src/main/java/net/minecraft/server/DedicatedServer.java
index 85445571..95a89e4f 100644
--- a/src/main/java/net/minecraft/server/DedicatedServer.java
+++ b/src/main/java/net/minecraft/server/DedicatedServer.java
@@ -226,7 +226,7 @@ public class DedicatedServer extends MinecraftServer implements IMinecraftServer
             server.enablePlugins(org.bukkit.plugin.PluginLoadOrder.STARTUP);
             // CraftBukkit end
 
-            if (!this.getOnlineMode()) {
+            if (!this.getOnlineMode() && (!org.spigotmc.SpigotConfig.bungee || inetaddress == null || !inetaddress.isLoopbackAddress())) { // Paper
                 DedicatedServer.LOGGER.warn("**** SERVER IS RUNNING IN OFFLINE/INSECURE MODE!");
                 DedicatedServer.LOGGER.warn("The server will make no attempt to authenticate usernames. Beware.");
                 // Spigot start
-- 
2.14.1.windows.1

