From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jake Potrebic <jake.m.potrebic@gmail.com>
Date: Mon, 4 Oct 2021 22:20:44 -0700
Subject: [PATCH] Saveable Scoreboards


diff --git a/src/main/java/io/papermc/paper/scoreboard/SaveableScoreboard.java b/src/main/java/io/papermc/paper/scoreboard/SaveableScoreboard.java
new file mode 100644
index 0000000000000000000000000000000000000000..019222bb25a4adf8fe2ec34c28ecf861509d8c0f
--- /dev/null
+++ b/src/main/java/io/papermc/paper/scoreboard/SaveableScoreboard.java
@@ -0,0 +1,26 @@
+package io.papermc.paper.scoreboard;
+
+import org.bukkit.scoreboard.Scoreboard;
+import org.jetbrains.annotations.NotNull;
+
+import java.nio.file.Path;
+
+/**
+ * Represents a scoreboard backed by a file.
+ */
+public interface SaveableScoreboard extends Scoreboard {
+
+    /**
+     * If the scoreboard is dirty, saves to the file. Plugins
+     * are in charge of handling the saving of the scoreboard,
+     * there is no automatic saving (just like configuration files).
+     */
+    void save();
+
+    /**
+     * Gets the file this scoreboard will be saved to.
+     *
+     * @return the file
+     */
+    @NotNull Path getFile();
+}
diff --git a/src/main/java/org/bukkit/scoreboard/ScoreboardManager.java b/src/main/java/org/bukkit/scoreboard/ScoreboardManager.java
index e4f05975685c04b7826b25f3e84c1d41f2d119bf..776188f5ec329d717e6c9475ce51b91113607b0c 100644
--- a/src/main/java/org/bukkit/scoreboard/ScoreboardManager.java
+++ b/src/main/java/org/bukkit/scoreboard/ScoreboardManager.java
@@ -29,4 +29,16 @@ public interface ScoreboardManager {
      */
     @NotNull
     Scoreboard getNewScoreboard();
+
+    // Paper start
+    /**
+     * Gets a new Scoreboard to be tracked by the server. This scoreboard
+     * with be loaded from the provided file if it exists and provide
+     * a method to save it to the file.
+     *
+     * @param path the file for the scoreboard
+     * @return an saveable scoreboard
+     */
+    @NotNull java.util.concurrent.CompletableFuture<io.papermc.paper.scoreboard.SaveableScoreboard> getNewScoreboard(@NotNull java.nio.file.Path path);
+    // Paper end
 }
