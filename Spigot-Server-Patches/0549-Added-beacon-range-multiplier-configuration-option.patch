From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Technerder <technerder@gmail.com>
Date: Tue, 23 Jun 2020 15:09:55 -0400
Subject: [PATCH] Added beacon range multiplier configuration option


diff --git a/src/main/java/com/destroystokyo/paper/PaperConfig.java b/src/main/java/com/destroystokyo/paper/PaperConfig.java
index 8444819f071b13e98ba07032520016a664b7b9bc..398e6508ae7c514e9aadc92aa6605034da5679e4 100644
--- a/src/main/java/com/destroystokyo/paper/PaperConfig.java
+++ b/src/main/java/com/destroystokyo/paper/PaperConfig.java
@@ -447,4 +447,5 @@ public class PaperConfig {
         allowPistonDuplication = getBoolean("settings.unsupported-settings.allow-piston-duplication", config.getBoolean("settings.unsupported-settings.allow-tnt-duplication", false));
         set("settings.unsupported-settings.allow-tnt-duplication", null);
     }
 }
diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
index ecacb72b922927f06883b75e7d2cc1f904eb9f03..b29e0f28d404889067598eef66435814e667673a 100644
--- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
+++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
@@ -691,4 +691,10 @@ public class PaperWorldConfig {
             delayChunkUnloadsBy *= 20;
         }
     }
+    public double beaconRangeMultiplier = 10.0;
+    private void setBeaconRangeMultiplier() {
+        beaconRangeMultiplier = getDouble("game-mechanics.beacon-range-multiplier", beaconRangeMultiplier);
+    }
 }
diff --git a/src/main/java/net/minecraft/server/TileEntityBeacon.java b/src/main/java/net/minecraft/server/TileEntityBeacon.java
index df2d6c3b070c2fc106fa2942959ef21b3511f0ee..fa7fa5b2794639345cf71c302cbabb29a34cf787 100644
--- a/src/main/java/net/minecraft/server/TileEntityBeacon.java
+++ b/src/main/java/net/minecraft/server/TileEntityBeacon.java
@@ -1,5 +1,6 @@
 package net.minecraft.server;
 
+import com.destroystokyo.paper.PaperConfig;
 import com.google.common.collect.Lists;
 import java.util.Arrays;
 import java.util.Iterator;
@@ -237,7 +238,7 @@ public class TileEntityBeacon extends TileEntity implements ITileInventory, ITic
 
     public List getHumansInRange() {
         {
-            double d0 = (double) (this.levels * 10 + 10);
+            double d0 = (double) (this.levels * getWorld().paperConfig.beaconRangeMultiplier + 10);
 
             AxisAlignedBB axisalignedbb = (new AxisAlignedBB(this.position)).g(d0).b(0.0D, (double) this.world.getBuildHeight(), 0.0D);
             List<EntityHuman> list = this.world.a(EntityHuman.class, axisalignedbb);
