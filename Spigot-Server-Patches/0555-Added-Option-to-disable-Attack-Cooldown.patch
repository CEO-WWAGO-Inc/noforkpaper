From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: BuildTools <unconfigured@null.spigotmc.org>
Date: Thu, 6 Aug 2020 23:39:25 +0800
Subject: [PATCH] Added-Option-to-disable-Attack-Cooldown


diff --git a/src/main/java/net/minecraft/server/EntityPlayer.java b/src/main/java/net/minecraft/server/EntityPlayer.java
index e5a81f831813209d224ffedbc03f6d8243721a25..4f43cea652d26173f00909ec6444aa46a14d9724 100644
--- a/src/main/java/net/minecraft/server/EntityPlayer.java
+++ b/src/main/java/net/minecraft/server/EntityPlayer.java
@@ -122,6 +122,7 @@ public class EntityPlayer extends EntityHuman implements ICrafting {
     double lastEntitySpawnRadiusSquared; // Paper - optimise isOutsideRange, this field is in blocks
 
     boolean needsChunkCenterUpdate; // Paper - no-tick view distance
+    private AttributeModifier disableCooldown = new AttributeModifier("DisableCooldown", 7200, AttributeModifier.Operation.ADDITION);
 
     public EntityPlayer(MinecraftServer minecraftserver, WorldServer worldserver, GameProfile gameprofile, PlayerInteractManager playerinteractmanager) {
         super(worldserver, worldserver.getSpawn(), gameprofile);
@@ -548,6 +549,10 @@ public class EntityPlayer extends EntityHuman implements ICrafting {
                 this.a(IScoreboardCriteria.XP, MathHelper.f((float) this.lastExpTotalScored));
             }
 
+            if(this.world.paperConfig.disableAttackCooldown && !this.getAttributeInstance(GenericAttributes.ATTACK_SPEED).getModifiers().contains(disableCooldown)) {
+            	this.getAttributeInstance(GenericAttributes.ATTACK_SPEED).addModifier(disableCooldown);
+            }
+
             // CraftBukkit start - Force max health updates
             if (this.maxHealthCache != this.getMaxHealth()) {
                 this.getBukkitEntity().updateScaledHealth();
