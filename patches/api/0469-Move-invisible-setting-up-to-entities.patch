From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: FireInstall <kettnerl@hu-berlin.de>
Date: Thu, 21 Mar 2024 17:28:55 +0100
Subject: [PATCH] Move invisible setting up to entities This moves setting an
 entity invisible from living entities up to all entities (since vanilla
 supports it) Why? Even for default "invisible" entities like interaction or
 item_display the Hitbox and line of sight is always visible when pressing
 F3+B. This can be a problem if they should be hidden.


diff --git a/src/main/java/org/bukkit/entity/Entity.java b/src/main/java/org/bukkit/entity/Entity.java
index d9929d9311e4b2b0ae13a8f6f13563257263f298..f856787edd94c0ff3469d08d5dcf29e76596cd59 100644
--- a/src/main/java/org/bukkit/entity/Entity.java
+++ b/src/main/java/org/bukkit/entity/Entity.java
@@ -325,6 +325,22 @@ public interface Entity extends Metadatable, CommandSender, Nameable, Persistent
     void lockFreezeTicks(boolean locked);
     // Paper end - Freeze Tick Lock API
 
+    // Paper start - move invisible setting up to entities
+    /**
+     * Sets whether the entity is invisible or not.
+     *
+     * @param invisible If the entity is invisible
+     */
+    public void setInvisible(boolean invisible);
+
+    /**
+     * Gets whether the entity is invisible or not.
+     *
+     * @return Whether the entity is invisible
+     */
+    public boolean isInvisible();
+    // Paper end - move invisible setting up to entities
+
     /**
      * Mark the entity's removal.
      *
diff --git a/src/main/java/org/bukkit/entity/LivingEntity.java b/src/main/java/org/bukkit/entity/LivingEntity.java
index e67455efc84f1e06d3396291d104ce65fee4591b..8835d512aa29d5848f669aa509974f1baba37e11 100644
--- a/src/main/java/org/bukkit/entity/LivingEntity.java
+++ b/src/main/java/org/bukkit/entity/LivingEntity.java
@@ -1016,19 +1016,11 @@ public interface LivingEntity extends Attributable, Damageable, ProjectileSource
     @NotNull
     public EntityCategory getCategory();
 
-    /**
-     * Sets whether the entity is invisible or not.
-     *
-     * @param invisible If the entity is invisible
-     */
-    public void setInvisible(boolean invisible);
+    // Paper start - move invisible setting up to entities
+    //public void setInvisible(boolean invisible);
 
-    /**
-     * Gets whether the entity is invisible or not.
-     *
-     * @return Whether the entity is invisible
-     */
-    public boolean isInvisible();
+    //public boolean isInvisible();
+    // Paper end - move invisible setting up to entities
 
     // Paper start
     /**
