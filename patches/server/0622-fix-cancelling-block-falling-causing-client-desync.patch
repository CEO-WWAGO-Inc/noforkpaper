From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Trigary <trigary0@gmail.com>
Date: Sat, 27 Mar 2021 11:13:30 +0100
Subject: [PATCH] fix cancelling block falling causing client desync


diff --git a/src/main/java/net/minecraft/world/entity/item/FallingBlockEntity.java b/src/main/java/net/minecraft/world/entity/item/FallingBlockEntity.java
index 483127e9418489ad7ba1fbcb14a045d91c1c3c30..880521f25a6c8483c79043f237866cb7a49c3a54 100644
--- a/src/main/java/net/minecraft/world/entity/item/FallingBlockEntity.java
+++ b/src/main/java/net/minecraft/world/entity/item/FallingBlockEntity.java
@@ -192,7 +192,7 @@ public class FallingBlockEntity extends Entity {
 
                                 // CraftBukkit start
                                 if (CraftEventFactory.callEntityChangeBlockEvent(this, blockposition, this.blockState).isCancelled()) {
-                                    this.discard(); // SPIGOT-6586 called before the event in previous versions
+                                    this.discard(); // SPIGOT-6586 called before the event in previous versions //TODO test if desync happens on cancel
                                     return;
                                 }
                                 // CraftBukkit end
