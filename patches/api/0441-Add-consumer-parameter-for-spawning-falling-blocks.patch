From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: booky10 <boooky10@gmail.com>
Date: Sun, 29 Jan 2023 01:38:41 +0100
Subject: [PATCH] Add consumer parameter for spawning falling blocks


diff --git a/src/main/java/org/bukkit/World.java b/src/main/java/org/bukkit/World.java
index da524a71af74b02515b037f7fe09ba6988e2c8bf..0c10dab6eab040d0967a89c9075e45cd331e41c5 100644
--- a/src/main/java/org/bukkit/World.java
+++ b/src/main/java/org/bukkit/World.java
@@ -2261,6 +2261,23 @@ public interface World extends RegionAccessor, WorldInfo, PluginMessageRecipient
     @NotNull
     public FallingBlock spawnFallingBlock(@NotNull Location location, @NotNull BlockData data) throws IllegalArgumentException;
 
+    // Paper start
+    /**
+     * Spawn a {@link FallingBlock} entity at the given {@link Location} of
+     * the specified {@link BlockData}. The BlockData dictates what is falling.
+     * When the FallingBlock hits the ground, it will place that block.
+     *
+     * @param location The {@link Location} to spawn the FallingBlock
+     * @param data The {@link BlockData} of the FallingBlock to spawn
+     * @param function the function to be run before the entity is spawned
+     * @return The spawned {@link FallingBlock} instance
+     * @throws IllegalArgumentException if {@link Location} or {@link
+     *     BlockData} are null
+     */
+    @NotNull
+    FallingBlock spawnFallingBlock(@NotNull Location location, @NotNull BlockData data, @Nullable Consumer<FallingBlock> function) throws IllegalArgumentException;
+    // Paper end
+
     /**
      * Spawn a {@link FallingBlock} entity at the given {@link Location} of the
      * specified {@link Material}. The material dictates what is falling.
