From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Mariell Hoversholm <proximyst@proximyst.com>
Date: Sun, 1 Nov 2020 15:50:16 +0100
Subject: [PATCH] Don't load an empty JsonList


diff --git a/src/main/java/net/minecraft/server/JsonList.java b/src/main/java/net/minecraft/server/JsonList.java
index 9213bfb78e92b838189161045e3945588251b486..4e6794386633854b2cf920d52b3692d9082083e8 100644
--- a/src/main/java/net/minecraft/server/JsonList.java
+++ b/src/main/java/net/minecraft/server/JsonList.java
@@ -187,6 +187,7 @@ public abstract class JsonList<K, V extends JsonListEntry<K>> {
 
             try {
                 JsonArray jsonarray = (JsonArray) JsonList.b.fromJson(bufferedreader, JsonArray.class);
+                if (jsonarray == null) return; // Paper - the content of the file was just whitespace/EOF
 
                 this.d.clear();
                 Iterator iterator = jsonarray.iterator();
