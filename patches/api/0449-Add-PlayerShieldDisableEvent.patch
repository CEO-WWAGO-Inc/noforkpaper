From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Cryptite <cryptite@gmail.com>
Date: Mon, 1 May 2023 16:22:43 -0500
Subject: [PATCH] Add PlayerShieldDisableEvent

Called whenever a player's shield is disable. The cooldown (default 100 ticks) is also provided to optionally be changed

diff --git a/src/main/java/io/papermc/paper/event/player/PlayerShieldDisableEvent.java b/src/main/java/io/papermc/paper/event/player/PlayerShieldDisableEvent.java
new file mode 100644
index 0000000000000000000000000000000000000000..9bc284bceb70ad757db18c250abfe877a7ffa8d4
--- /dev/null
+++ b/src/main/java/io/papermc/paper/event/player/PlayerShieldDisableEvent.java
@@ -0,0 +1,35 @@
+package io.papermc.paper.event.player;
+
+import org.bukkit.Material;
+import org.bukkit.entity.Entity;
+import org.bukkit.entity.Player;
+import org.bukkit.event.Cancellable;
+import org.jetbrains.annotations.ApiStatus;
+import org.jetbrains.annotations.NotNull;
+
+/**
+ * Thrown whenever a players shield is disabled due to an attack from another entity that was capable of disabling the
+ * shield. This, most commonly, may be another player attacking with an axe.
+ * <p>
+ * Plugins manually adding a cooldown to the player via {@link Player#setCooldown(Material, int)} do <b>not</b> trigger
+ * this event, but rather a {@link PlayerItemCooldownEvent}.
+ */
+public class PlayerShieldDisableEvent extends PlayerItemCooldownEvent implements Cancellable {
+    private final Entity damager;
+
+    @ApiStatus.Internal
+    public PlayerShieldDisableEvent(@NotNull final Player player, @NotNull final Entity damager, final int cooldown) {
+        super(player, Material.SHIELD, cooldown);
+        this.damager = damager;
+    }
+
+    /**
+     * Provides the damager that disabled the shield.
+     *
+     * @return the entity instance that damaged the player in a way that caused the shield to be disabled.
+     */
+    @NotNull
+    public Entity getDamager() {
+        return damager;
+    }
+}
