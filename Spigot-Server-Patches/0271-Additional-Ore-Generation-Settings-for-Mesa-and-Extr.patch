From cf4e182f4a1dbaf4a4f6ac10d3455c0c3a9b34bb Mon Sep 17 00:00:00 2001
From: MelonCode <qlniklp@gmail.com>
Date: Sat, 10 Feb 2018 04:14:57 +0300
Subject: [PATCH] Additional Ore Generation Settings for Mesa and ExtremeHills


diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
index 11e88663e..1947f2466 100644
--- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
+++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
@@ -162,6 +162,9 @@ public class PaperWorldConfig {
     public boolean generateTemple;
     public boolean generateVillage;
     public boolean generateFlatBedrock;
+    public boolean disableExtremeHillsEmeralds;
+    public boolean disableExtremeHillsMonsterEggs;
+    public boolean disableMesaAdditionalGold;
 
     private void generatorSettings() {
         generateCanyon = getBoolean("generator-settings.canyon", true);
@@ -174,6 +177,9 @@ public class PaperWorldConfig {
         generateTemple = getBoolean("generator-settings.temple", true);
         generateVillage = getBoolean("generator-settings.village", true);
         generateFlatBedrock = getBoolean("generator-settings.flat-bedrock", false);
+        disableExtremeHillsEmeralds = getBoolean("generator-settings.disable-extreme-hills-emeralds", false);
+        disableExtremeHillsMonsterEggs = getBoolean("generator-settings.disable-extreme-hills-monster-eggs", false);
+        disableMesaAdditionalGold = getBoolean("generator-settings.disable-mesa-additional-gold", false);
     }
 
     public boolean optimizeExplosions;
diff --git a/src/main/java/net/minecraft/server/BiomeBigHills.java b/src/main/java/net/minecraft/server/BiomeBigHills.java
index 9c39bf7af..61680ab50 100644
--- a/src/main/java/net/minecraft/server/BiomeBigHills.java
+++ b/src/main/java/net/minecraft/server/BiomeBigHills.java
@@ -32,6 +32,9 @@ public class BiomeBigHills extends BiomeBase {
         int k;
         int l;
 
+        // Paper start - Disable extreme hills emeralds
+        if (!world.paperConfig.disableExtremeHillsEmeralds) {
+
         for (j = 0; j < i; ++j) {
             k = random.nextInt(16);
             l = random.nextInt(28) + 4;
@@ -43,6 +46,12 @@ public class BiomeBigHills extends BiomeBase {
             }
         }
 
+        }
+        // Paper end block
+
+        // Paper start - Disable extreme hills monster eggs
+        if (!world.paperConfig.disableExtremeHillsMonsterEggs) {
+
         for (i = 0; i < 7; ++i) {
             j = random.nextInt(16);
             k = random.nextInt(64);
@@ -50,6 +59,9 @@ public class BiomeBigHills extends BiomeBase {
             this.x.generate(world, random, blockposition.a(j, k, l));
         }
 
+        }
+        // Paper end block
+
     }
 
     public void a(World world, Random random, ChunkSnapshot chunksnapshot, int i, int j, double d0) {
diff --git a/src/main/java/net/minecraft/server/BiomeMesa.java b/src/main/java/net/minecraft/server/BiomeMesa.java
index 0541403f0..67f8ad8ed 100644
--- a/src/main/java/net/minecraft/server/BiomeMesa.java
+++ b/src/main/java/net/minecraft/server/BiomeMesa.java
@@ -259,6 +259,7 @@ public class BiomeMesa extends BiomeBase {
 
         protected void a(World world, Random random) {
             super.a(world, random);
+            if (world.paperConfig.disableMesaAdditionalGold) return; // Paper
             this.a(world, random, 20, this.n, 32, 80);
         }
 
-- 
2.14.3

