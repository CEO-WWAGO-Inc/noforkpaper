From 71fe73695915d4fffbbec2de30e9772c41f3e0c4 Mon Sep 17 00:00:00 2001
From: William Blake Galbreath <blake.galbreath@gmail.com>
Date: Sat, 13 Apr 2019 02:08:10 -0500
Subject: [PATCH] Add getPlacementBlockData to World


diff --git a/src/main/java/org/bukkit/craftbukkit/CraftWorld.java b/src/main/java/org/bukkit/craftbukkit/CraftWorld.java
index 457aa5a3..3ef713cd 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftWorld.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftWorld.java
@@ -564,6 +564,11 @@ public class CraftWorld implements World {
     public boolean isDayTime() {
         return getHandle().isDayTime();
     }
+
+    public BlockData getPlacementBlockData(BlockData blockdata, Location location) {
+        IBlockData validData = net.minecraft.server.Block.getValidBlockForPosition(((CraftBlockData) blockdata).getState(), getHandle(), MCUtil.toBlockPosition(location));
+        return CraftBlockData.fromData(validData == null ? Blocks.AIR.getBlockData() : validData);
+    }
     // Paper end
 
     public boolean createExplosion(double x, double y, double z, float power) {
-- 
2.20.1

